"use strict";const sinon=require("sinon"),lodash=require("lodash"),asynchronousDelay=require("../dist/part1/01-asynchronous-delay").default,transformArgs=require("../dist/part1/02-transform-args").default,arrayMagic=require("../dist/part1/03-array-magic").default,waitAMinute=require("../dist/part1/04-wait-a-minute").default,toConsumableArray=n=>{if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)};describe("Part1",function(){context("01. Asynchronous Delay",()=>{let n;beforeEach(function(){n=sinon.useFakeTimers()}),afterEach(function(){n.restore()});let t=function(t,e){return function(){var a=sinon.spy();asynchronousDelay(t,a),a.should.have.not.been.called,n.tick(t-e),a.should.have.not.been.called,n.tick(e+3),a.should.have.been.calledOnce}};it("should call after delay 3000 ms",t(3e3,10)),it("should call after delay 1000 ms",t(1e3,300)),it("should call after delay 500 ms",t(500,200))}),context("02. Transform Arguments!",function(){var n=sinon.spy();it("should return as function",function(){transformArgs(n).should.be.a("function")});var t=function(n,t){return function(e){return function(){return n.apply(void 0,toConsumableArray(e)).should.be.deep.equal(t(e))}}};context("simple sum function",function(){var n=function(n,t,e,a){return n+t+e+a},e=transformArgs(n),a=t(n,e);it("5 6 7 8",a([5,6,7,8])),it("15 14 300 25",a([15,14,300,25])),it("99 77 66 55",a([99,77,66,55]))}),context("infinite sum function",function(){var n=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return lodash.sum(t)},e=transformArgs(n),a=t(n,e);it("4 2 3",a([4,2,3])),it("1 2 3 4 5 6 7 8 9 10",a([1,2,3,4,5,6,7,8,9,10])),it("_.range(0, 20, 5)",a(lodash.range(0,20,5)))}),context("a Map function",function(){var n=function(n,t){return lodash.map(n,function(n){return n+t})},e=transformArgs(n),a=t(n,e);it("[1,2,4], 2",a([[1,2,4],2]))}),context("an Object function",function(){var n=function(n,t){return lodash.merge(n,t)},e=transformArgs(n),a=t(n,e);it("{a: 'heelo', b: 'eiei'}, {c: 'yoyo', b: 'newBee'}",a({a:"heelo",b:"eiei"},{c:"yoyo",b:"newBee"}))})}),context("03. ArrayMagic",function(){it("[3, 5, 7, 11, 21]",function(){arrayMagic([3,5,7,11,21]).should.equal(19)}),it("[299, 124, 84, 55]",function(){arrayMagic([299,124,84,55]).should.equal(478)}),it("[123, 566, 32, 35, 78, 14, 32, 49]",function(){arrayMagic([123,566,32,35,78,14,32,49]).should.equal(831)}),it("[32, 55, 5618, 56156, 23156156, 323, 7, 108]",function(){arrayMagic([32,55,5618,56156,23156156,323,7,108]).should.equal(23218448)})}),context("04. WaitAMinute",function(){it("case 1",function(){waitAMinute("2018-06-01T08:18:12.907Z","2018-06-01T09:08:12.907Z").should.equal(1)}),it("case 2",function(){waitAMinute("2018-06-01T08:18:12.907Z","2018-06-01T09:14:12.907Z").should.equal(2)}),it("case 3",function(){waitAMinute("2018-06-01T08:40:39.024Z","2018-06-01T11:21:54.099Z").should.equal(5)}),it("case 4",function(){waitAMinute("2018-06-01T08:00:00.024Z","2018-06-01T13:00:00.024Z").should.equal(9)}),it("case 5",function(){waitAMinute("2018-06-01T08:00:00.024Z","2018-06-01T14:50:00.024Z").should.equal(12)})})});
